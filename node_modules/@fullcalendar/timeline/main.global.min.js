/*!
FullCalendar Scheduler v5.5.0
Docs & License: https://fullcalendar.io/scheduler
(c) 2020 Adam Shaw
*/
var FullCalendarTimeline=function(e,t,n,o){"use strict";function i(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var r=i(n),a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function s(e,t){function n(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var l=function(){return(l=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};t.config.MAX_TIMELINE_SLOTS=1e3;var u=[{years:1},{months:1},{days:1},{hours:1},{minutes:30},{minutes:15},{minutes:10},{minutes:5},{minutes:1},{seconds:30},{seconds:15},{seconds:10},{seconds:5},{seconds:1},{milliseconds:500},{milliseconds:100},{milliseconds:10},{milliseconds:1}];function c(e,n,o,i){var r={labelInterval:o.slotLabelInterval,slotDuration:o.slotDuration};!function(e,n,o){var i=n.currentRange;if(e.labelInterval){o.countDurationsBetween(i.start,i.end,e.labelInterval)>t.config.MAX_TIMELINE_SLOTS&&(console.warn("slotLabelInterval results in too many cells"),e.labelInterval=null)}if(e.slotDuration){o.countDurationsBetween(i.start,i.end,e.slotDuration)>t.config.MAX_TIMELINE_SLOTS&&(console.warn("slotDuration results in too many cells"),e.slotDuration=null)}if(e.labelInterval&&e.slotDuration){var r=t.wholeDivideDurations(e.labelInterval,e.slotDuration);(null===r||r<1)&&(console.warn("slotLabelInterval must be a multiple of slotDuration"),e.slotDuration=null)}}(r,e,n),h(r,e,n),function(e,n,o){var i=n.currentRange,r=e.slotDuration;if(!r){for(var a=h(e,n,o),s=0,l=u;s<l.length;s++){var c=l[s],d=t.createDuration(c),f=t.wholeDivideDurations(a,d);if(null!==f&&f>1&&f<=6){r=d;break}}if(r)o.countDurationsBetween(i.start,i.end,r)>200&&(r=null);r||(r=a),e.slotDuration=r}}(r,e,n);var a=o.slotLabelFormat,s=Array.isArray(a)?a:null!=a?[a]:function(e,n,o,i){var r,a,s=e.labelInterval,l=t.greatestDurationDenominator(s).unit,u=i.weekNumbers,c=r=a=null;"week"!==l||u||(l="day");switch(l){case"year":c={year:"numeric"};break;case"month":m("years",n,o)>1&&(c={year:"numeric"}),r={month:"short"};break;case"week":m("years",n,o)>1&&(c={year:"numeric"}),r={week:"narrow"};break;case"day":m("years",n,o)>1?c={year:"numeric",month:"long"}:m("months",n,o)>1&&(c={month:"long"}),u&&(r={week:"short"}),a={weekday:"narrow",day:"numeric"};break;case"hour":u&&(c={week:"short"}),m("days",n,o)>1&&(r={weekday:"short",day:"numeric",month:"numeric",omitCommas:!0}),a={hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"short"};break;case"minute":t.asRoughMinutes(s)/60>=6?(c={hour:"numeric",meridiem:"short"},r=function(e){return":"+t.padStart(e.date.minute,2)}):c={hour:"numeric",minute:"numeric",meridiem:"short"};break;case"second":t.asRoughSeconds(s)/60>=6?(c={hour:"numeric",minute:"2-digit",meridiem:"lowercase"},r=function(e){return":"+t.padStart(e.date.second,2)}):c={hour:"numeric",minute:"2-digit",second:"2-digit",meridiem:"lowercase"};break;case"millisecond":c={hour:"numeric",minute:"2-digit",second:"2-digit",meridiem:"lowercase"},r=function(e){return"."+t.padStart(e.millisecond,3)}}return[].concat(c||[],r||[],a||[])}(r,e,n,o);r.headerFormats=s.map((function(e){return t.createFormatter(e)})),r.isTimeScale=Boolean(r.slotDuration.milliseconds);var l=null;if(!r.isTimeScale){var c=t.greatestDurationDenominator(r.slotDuration).unit;/year|month|week/.test(c)&&(l=c)}r.largeUnit=l,r.emphasizeWeeks=1===t.asCleanDays(r.slotDuration)&&m("weeks",e,n)>=2&&!o.businessHours;var g,v,y=o.snapDuration;y&&(g=t.createDuration(y),v=t.wholeDivideDurations(r.slotDuration,g)),null==v&&(g=r.slotDuration,v=1),r.snapDuration=g,r.snapsPerSlot=v;var D=t.asRoughMs(e.slotMaxTime)-t.asRoughMs(e.slotMinTime),S=d(e.renderRange.start,r,n),C=d(e.renderRange.end,r,n);r.isTimeScale&&(S=n.add(S,e.slotMinTime),C=n.add(t.addDays(C,-1),e.slotMaxTime)),r.timeWindowMs=D,r.normalizedRange={start:S,end:C};for(var R=[],w=S;w<C;)f(w,r,e,i)&&R.push(w),w=n.add(w,r.slotDuration);r.slotDates=R;var E=-1,b=0,P=[],M=[];for(w=S;w<C;)f(w,r,e,i)?(E+=1,P.push(E),M.push(b)):P.push(E+.5),w=n.add(w,r.snapDuration),b+=1;return r.snapDiffToIndex=P,r.snapIndexToDiff=M,r.snapCnt=E+1,r.slotCnt=r.snapCnt/r.snapsPerSlot,r.isWeekStarts=function(e,t){for(var n=e.slotDates,o=e.emphasizeWeeks,i=null,r=[],a=0,s=n;a<s.length;a++){var l=s[a],u=t.computeWeekNumber(l),c=o&&null!==i&&i!==u;i=u,r.push(c)}return r}(r,n),r.cellRows=function(e,n){for(var o=e.slotDates,i=e.headerFormats,r=i.map((function(){return[]})),a=t.asCleanDays(e.slotDuration),s=7===a?"week":1===a?"day":null,l=i.map((function(e){return e.getLargestUnit?e.getLargestUnit():null})),u=0;u<o.length;u+=1)for(var c=o[u],d=e.isWeekStarts[u],f=0;f<i.length;f+=1){var h=i[f],m=r[f],g=m[m.length-1],v=f===i.length-1,y=i.length>1&&!v,D=null,S=l[f]||(v?s:null);if(y){var C=n.format(c,h);g&&g.text===C?g.colspan+=1:D=p(c,C,S)}else if(!g||t.isInt(n.countDurationsBetween(e.normalizedRange.start,c,e.labelInterval))){C=n.format(c,h);D=p(c,C,S)}else g.colspan+=1;D&&(D.weekStart=d,m.push(D))}return r}(r,n),r.slotsPerLabel=t.wholeDivideDurations(r.labelInterval,r.slotDuration),r}function d(e,n,o){var i=e;return n.isTimeScale||(i=t.startOfDay(i),n.largeUnit&&(i=o.startOf(i,n.largeUnit))),i}function f(e,n,o,i){if(i.isHiddenDay(e))return!1;if(n.isTimeScale){var r=t.startOfDay(e),a=e.valueOf()-r.valueOf()-t.asRoughMs(o.slotMinTime);return(a=(a%864e5+864e5)%864e5)<n.timeWindowMs}return!0}function h(e,n,o){var i=n.currentRange,r=e.labelInterval;if(!r){var a=void 0;if(e.slotDuration){for(var s=0,l=u;s<l.length;s++){a=l[s];var c=t.createDuration(a),d=t.wholeDivideDurations(c,e.slotDuration);if(null!==d&&d<=6){r=c;break}}r||(r=e.slotDuration)}else for(var f=0,h=u;f<h.length;f++){if(a=h[f],r=t.createDuration(a),o.countDurationsBetween(i.start,i.end,r)>=18)break}e.labelInterval=r}return r}function m(e,n,o){var i=n.currentRange,r=null;return"years"===e?r=o.diffWholeYears(i.start,i.end):"months"===e||"weeks"===e?r=o.diffWholeMonths(i.start,i.end):"days"===e&&(r=t.diffWholeDays(i.start,i.end)),r||0}function p(e,t,n){return{date:e,text:t,rowUnit:n,colspan:1,isWeekStart:!1}}var g=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return s(n,e),n.prototype.render=function(){var e=this.props,n=this.context,o=e.navLinkData?{"data-navlink":e.navLinkData,tabIndex:0}:{};return t.createElement(t.ContentHook,{hookProps:e.hookProps,content:n.options.slotLabelContent,defaultContent:v},(function(n,i){return t.createElement("a",l({ref:n,className:"fc-timeline-slot-cushion fc-scrollgrid-sync-inner"+(e.isSticky?" fc-sticky":"")},o),i)}))},n}(t.BaseComponent);function v(e){return e.text}function y(e){return{level:e.level,date:e.dateEnv.toDate(e.dateMarker),view:e.viewApi,text:e.text}}var D=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.refineHookProps=t.memoizeObjArg(y),n.normalizeClassNames=t.buildClassNameNormalizer(),n}return s(n,e),n.prototype.render=function(){var e=this.props,n=this.context,o=n.dateEnv,i=n.options,r=e.cell,a=e.dateProfile,s=e.tDateProfile,l=t.getDateMeta(r.date,e.todayRange,e.nowDate,a),u=["fc-timeline-slot","fc-timeline-slot-label"].concat("time"===r.rowUnit?t.getSlotClassNames(l,n.theme):t.getDayClassNames(l,n.theme));r.isWeekStart&&u.push("fc-timeline-slot-em");var c=i.navLinks&&r.rowUnit&&"time"!==r.rowUnit?t.buildNavLinkData(r.date,r.rowUnit):null,d=this.refineHookProps({level:e.rowLevel,dateMarker:r.date,text:r.text,dateEnv:n.dateEnv,viewApi:n.viewApi}),f=this.normalizeClassNames(i.slotLabelClassNames,d);return t.createElement(t.MountHook,{hookProps:d,didMount:i.slotLabelDidMount,willUnmount:i.slotLabelWillUnmount},(function(n){return t.createElement("th",{ref:n,className:u.concat(f).join(" "),"data-date":o.formatIso(r.date,{omitTime:!s.isTimeScale,omitTimeZoneOffset:!0}),colSpan:r.colspan},t.createElement("div",{className:"fc-timeline-slot-frame",style:{height:e.rowInnerHeight}},t.createElement(g,{hookProps:d,isSticky:e.isSticky,navLinkData:c})))}))},n}(t.BaseComponent),S=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return s(n,e),n.prototype.render=function(){var e=this.props,n=e.dateProfile,o=e.tDateProfile,i=e.rowInnerHeights,r=e.todayRange,a=e.nowDate,s=o.cellRows;return t.createElement(t.Fragment,null,s.map((function(e,l){var u=l===s.length-1,c=["fc-timeline-header-row",o.isTimeScale&&u?"fc-timeline-header-row-chrono":""];return t.createElement("tr",{key:l,className:c.join(" ")},e.map((function(e){return t.createElement(D,{key:e.date.toISOString(),cell:e,rowLevel:l,dateProfile:n,tDateProfile:o,todayRange:r,nowDate:a,rowInnerHeight:i&&i[l],isSticky:!u})})))})))},n}(t.BaseComponent),C=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.rootElRef=t.createRef(),n}return s(n,e),n.prototype.render=function(){var e=this,n=this.props,o=this.context,i=t.greatestDurationDenominator(n.tDateProfile.slotDuration).unit,r=n.slatCoords&&n.slatCoords.dateProfile===n.dateProfile?n.slatCoords:null;return t.createElement(t.NowTimer,{unit:i},(function(i,a){return t.createElement("div",{className:"fc-timeline-header",ref:e.rootElRef},t.createElement("table",{className:"fc-scrollgrid-sync-table",style:{minWidth:n.tableMinWidth,width:n.clientWidth}},n.tableColGroupNode,t.createElement("tbody",null,t.createElement(S,{dateProfile:n.dateProfile,tDateProfile:n.tDateProfile,nowDate:i,todayRange:a,rowInnerHeights:n.rowInnerHeights}))),o.options.nowIndicator&&t.createElement("div",{className:"fc-timeline-now-indicator-container"},r&&r.isDateInRange(i)&&t.createElement(t.NowIndicatorRoot,{isAxis:!0,date:i},(function(e,n,o,a){return t.createElement("div",{ref:e,className:["fc-timeline-now-indicator-arrow"].concat(n).join(" "),style:{left:r.dateToCoord(i)}},a)}))))}))},n.prototype.componentDidMount=function(){this.updateSize()},n.prototype.componentDidUpdate=function(){this.updateSize()},n.prototype.updateSize=function(){this.props.onMaxCushionWidth&&this.props.onMaxCushionWidth(this.computeMaxCushionWidth())},n.prototype.computeMaxCushionWidth=function(){return Math.max.apply(Math,t.findElements(this.rootElRef.current,".fc-timeline-header-row:last-child .fc-timeline-slot-cushion").map((function(e){return e.getBoundingClientRect().width})))},n}(t.BaseComponent),R=function(){function e(e,n,o,i,r,a){this.slatRootEl=e,this.dateProfile=o,this.tDateProfile=i,this.dateEnv=r,this.isRtl=a,this.outerCoordCache=new t.PositionCache(e,n,!0,!1),this.innerCoordCache=new t.PositionCache(e,t.findDirectChildren(n,"div"),!0,!1)}return e.prototype.rangeToCoords=function(e){return this.isRtl?{right:this.dateToCoord(e.start),left:this.dateToCoord(e.end)}:{left:this.dateToCoord(e.start),right:this.dateToCoord(e.end)}},e.prototype.isDateInRange=function(e){return t.rangeContainsMarker(this.dateProfile.currentRange,e)},e.prototype.dateToCoord=function(e){var t=this.tDateProfile,n=this.computeDateSnapCoverage(e)/t.snapsPerSlot,o=Math.floor(n),i=n-(o=Math.min(o,t.slotCnt-1)),r=this.innerCoordCache,a=this.outerCoordCache;return this.isRtl?a.rights[o]-r.getWidth(o)*i-a.originClientRect.width:a.lefts[o]+r.getWidth(o)*i},e.prototype.computeDateSnapCoverage=function(e){return w(e,this.tDateProfile,this.dateEnv)},e.prototype.computeDurationLeft=function(e){var n=this.dateProfile,o=this.tDateProfile,i=this.dateEnv,r=this.isRtl,a=0;if(n){var s=i.add(n.activeRange.start,e);o.isTimeScale||(s=t.startOfDay(s)),a=this.dateToCoord(s),!r&&a&&(a+=1)}return a},e}();function w(e,n,o){var i=o.countDurationsBetween(n.normalizedRange.start,e,n.snapDuration);if(i<0)return 0;if(i>=n.snapDiffToIndex.length)return n.snapCnt;var r=Math.floor(i),a=n.snapDiffToIndex[r];return t.isInt(a)?a+=i-r:a=Math.ceil(a),a}var E=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return s(n,e),n.prototype.render=function(){var e=this.props,n=this.context,o=n.dateEnv,i=n.options,r=n.theme,a=e.date,s=e.tDateProfile,u=e.isEm,c=t.getDateMeta(e.date,e.todayRange,e.nowDate,e.dateProfile),d=["fc-timeline-slot","fc-timeline-slot-lane"],f={"data-date":o.formatIso(a,{omitTimeZoneOffset:!0,omitTime:!s.isTimeScale})},h=l(l({date:o.toDate(e.date)},c),{view:n.viewApi});return u&&d.push("fc-timeline-slot-em"),s.isTimeScale&&d.push(t.isInt(o.countDurationsBetween(s.normalizedRange.start,e.date,s.labelInterval))?"fc-timeline-slot-major":"fc-timeline-slot-minor"),d.push.apply(d,e.isDay?t.getDayClassNames(c,r):t.getSlotClassNames(c,r)),t.createElement(t.RenderHook,{hookProps:h,classNames:i.slotLaneClassNames,content:i.slotLaneContent,didMount:i.slotLaneDidMount,willUnmount:i.slotLaneWillUnmount,elRef:e.elRef},(function(e,n,o,i){return t.createElement("td",l({ref:e,className:d.concat(n).join(" ")},f),t.createElement("div",{ref:o},i))}))},n}(t.BaseComponent),b=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return s(n,e),n.prototype.render=function(){var e=this.props,n=e.tDateProfile,o=e.cellElRefs,i=n.slotDates,r=n.isWeekStarts,a=!n.isTimeScale&&!n.largeUnit;return t.createElement("tbody",null,t.createElement("tr",null,i.map((function(i,s){var l=i.toISOString();return t.createElement(E,{key:l,elRef:o.createRef(l),date:i,dateProfile:e.dateProfile,tDateProfile:n,nowDate:e.nowDate,todayRange:e.todayRange,isEm:r[s],isDay:a})}))))},n}(t.BaseComponent),P=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.rootElRef=t.createRef(),n.cellElRefs=new t.RefMap,n.handleScrollRequest=function(e){var t=n.props.onScrollLeftRequest,o=n.coords;if(t&&o){if(e.time)t(o.computeDurationLeft(e.time));return!0}return null},n}return s(n,e),n.prototype.render=function(){var e=this.props,n=this.context;return t.createElement("div",{className:"fc-timeline-slots",ref:this.rootElRef},t.createElement("table",{className:n.theme.getClass("table"),style:{minWidth:e.tableMinWidth,width:e.clientWidth}},e.tableColGroupNode,t.createElement(b,{cellElRefs:this.cellElRefs,dateProfile:e.dateProfile,tDateProfile:e.tDateProfile,nowDate:e.nowDate,todayRange:e.todayRange})))},n.prototype.componentDidMount=function(){this.updateSizing(),this.scrollResponder=this.context.createScrollResponder(this.handleScrollRequest)},n.prototype.componentDidUpdate=function(e){this.updateSizing(),this.scrollResponder.update(e.dateProfile!==this.props.dateProfile)},n.prototype.componentWillUnmount=function(){this.scrollResponder.detach(),this.props.onCoords&&this.props.onCoords(null)},n.prototype.updateSizing=function(){var e,t=this.props,n=this.context;null!==t.clientWidth&&this.scrollResponder&&(this.rootElRef.current.offsetWidth&&(this.coords=new R(this.rootElRef.current,(e=this.cellElRefs.currentMap,t.tDateProfile.slotDates.map((function(t){var n=t.toISOString();return e[n]}))),t.dateProfile,t.tDateProfile,n.dateEnv,n.isRtl),t.onCoords&&t.onCoords(this.coords),this.scrollResponder.update(!1)))},n.prototype.positionToHit=function(e){var n=this.coords.outerCoordCache,o=this.context,i=o.dateEnv,r=o.isRtl,a=this.props.tDateProfile,s=n.leftToIndex(e);if(null!=s){var l=n.getWidth(s),u=r?(n.rights[s]-e)/l:(e-n.lefts[s])/l,c=Math.floor(u*a.snapsPerSlot),d=i.add(a.slotDates[s],t.multiplyDuration(a.snapDuration,c));return{dateSpan:{range:{start:d,end:i.add(d,a.snapDuration)},allDay:!this.props.tDateProfile.isTimeScale},dayEl:this.cellElRefs.currentMap[s],left:n.lefts[s],right:n.rights[s]}}return null},n}(t.BaseComponent);var M=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return s(n,e),n.prototype.render=function(){var e=this.props,n=[].concat(e.eventResizeSegs,e.dateSelectionSegs);return e.timelineCoords&&t.createElement("div",{className:"fc-timeline-bg"},this.renderSegs(e.businessHourSegs||[],e.timelineCoords,"non-business"),this.renderSegs(e.bgEventSegs||[],e.timelineCoords,"bg-event"),this.renderSegs(n,e.timelineCoords,"highlight"))},n.prototype.renderSegs=function(e,n,o){var i=this.props,r=i.todayRange,a=i.nowDate,s=e.map((function(e){var i=n.rangeToCoords(e);return t.createElement("div",{key:t.buildEventRangeKey(e.eventRange),className:"fc-timeline-bg-harness",style:{left:i.left,right:-i.right}},"bg-event"===o?t.createElement(t.BgEvent,l({seg:e},t.getSegMeta(e,r,a))):t.renderFill(o))}));return t.createElement(t.Fragment,null,s)},n}(t.BaseComponent),k=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return s(n,e),n.prototype.sliceRange=function(e,n,o,i,r){var a=function(e,n,o){if(!n.isTimeScale&&(e=t.computeVisibleDayRange(e),n.largeUnit)){var i=e;((e={start:o.startOf(e.start,n.largeUnit),end:o.startOf(e.end,n.largeUnit)}).end.valueOf()!==i.end.valueOf()||e.end<=e.start)&&(e={start:e.start,end:o.add(e.end,n.slotDuration)})}return e}(e,i,r),s=[];if(w(a.start,i,r)<w(a.end,i,r)){var l=t.intersectRanges(a,i.normalizedRange);l&&s.push({start:l.start,end:l.end,isStart:l.start.valueOf()===a.start.valueOf()&&f(l.start,i,n,o),isEnd:l.end.valueOf()===a.end.valueOf()&&f(t.addMs(l.end,-1),i,n,o)})}return s},n}(t.Slicer),T=t.createFormatter({hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"narrow"}),W=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return s(n,e),n.prototype.render=function(){var e=this.props;return t.createElement(t.StandardEvent,l({},e,{extraClassNames:["fc-timeline-event","fc-h-event"],defaultTimeFormat:T,defaultDisplayEventTime:!e.isTimeScale}))},n}(t.BaseComponent);function I(e,t){var n={};if(t)for(var o=0,i=e;o<i.length;o++){var r=i[o];n[r.eventRange.instance.instanceId]=t.rangeToCoords(r)}return n}function N(e,n,o){var i,r,a,s,l=[],u=0;if(o)for(var c=0,d=e=t.sortEventSegs(e,n);c<d.length;c++){var f=d[c].eventRange.instance.instanceId,h=o[f];if(h){for(var m=0,p=0,g=0;g<l.length;g+=1){var v=l[g];i=h,r=m,a=v.dims,s=v.top,i.right>a.left&&i.left<a.right&&r+i.height>s&&r<s+a.height&&(m=v.top+v.dims.height,p=g)}for(;p<l.length&&m>=l[p].top;)p+=1;l.splice(p,0,{key:f,dims:h,top:m}),u=Math.max(u,m+h.height)}}for(var y={},D=0,S=l;D<S.length;D++){y[(v=S[D]).key]=v.top}return{segTops:y,height:u}}var x=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.slicer=new k,n.computeFgSegHorizontals=t.memoize(I),n.computeSegVerticals=t.memoize(N),n.harnessElRefs=new t.RefMap,n.innerElRef=t.createRef(),n.state={segDims:null},n}return s(n,e),n.prototype.render=function(){var e=this.props,n=this.state,o=this.context,i=e.dateProfile,r=e.tDateProfile,a=this.slicer.sliceProps(e,i,r.isTimeScale?null:e.nextDayThreshold,o,i,o.dateProfileGenerator,r,o.dateEnv),s=(a.eventDrag?a.eventDrag.segs:null)||(a.eventResize?a.eventResize.segs:null)||[],l=this.computeFgSegHorizontals(a.fgEventSegs,e.timelineCoords),u=this.computeSegVerticals(a.fgEventSegs,o.options.eventOrder,n.segDims),c=u.segTops,d=u.height,f=(a.eventDrag?a.eventDrag.affectedInstances:null)||(a.eventResize?a.eventResize.affectedInstances:null)||{};return t.createElement(t.Fragment,null,t.createElement(M,{businessHourSegs:a.businessHourSegs,bgEventSegs:a.bgEventSegs,timelineCoords:e.timelineCoords,eventResizeSegs:a.eventResize?a.eventResize.segs:[],dateSelectionSegs:a.dateSelectionSegs,nowDate:e.nowDate,todayRange:e.todayRange}),t.createElement("div",{className:"fc-timeline-events fc-scrollgrid-sync-inner",ref:this.innerElRef,style:{height:d}},this.renderFgSegs(a.fgEventSegs,l,c,f,!1,!1,!1),this.renderFgSegs(s,I(s,e.timelineCoords),c,{},Boolean(a.eventDrag),Boolean(a.eventResize),!1)))},n.prototype.componentDidMount=function(){this.updateSize()},n.prototype.componentDidUpdate=function(e,t){e.eventStore===this.props.eventStore&&e.timelineCoords===this.props.timelineCoords||this.updateSize()},n.prototype.updateSize=function(){var e=this,n=this.props,o=n.timelineCoords;if(n.onHeightChange&&n.onHeightChange(this.innerElRef.current,!1),o){var i=o.slatRootEl.getBoundingClientRect();this.setState({segDims:t.mapHash(this.harnessElRefs.currentMap,(function(e){var t=e.getBoundingClientRect();return{left:Math.round(t.left-i.left),right:Math.round(t.right-i.left),height:Math.round(t.height)}}))},(function(){n.onHeightChange&&n.onHeightChange(e.innerElRef.current,!0)}))}},n.prototype.renderFgSegs=function(e,n,o,i,r,a,s){var u=this,c=this.harnessElRefs,d=this.props,f=r||a||s;return t.createElement(t.Fragment,null,e.map((function(e){var h=e.eventRange.instance.instanceId,m=n[h],p=o[h];return t.createElement("div",{key:h,ref:f?null:c.createRef(h),className:"fc-timeline-event-harness",style:{left:m?m.left:"",right:m?-m.right:"",top:null!=p?p:"",visibility:i[h]?"hidden":""}},t.createElement(W,l({isTimeScale:u.props.tDateProfile.isTimeScale,seg:e,isDragging:r,isResizing:a,isDateSelecting:s,isSelected:h===u.props.eventSelection},t.getSegMeta(e,d.todayRange,d.nowDate))))})))},n}(t.BaseComponent),L=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.slatsRef=t.createRef(),n.state={coords:null},n.handeEl=function(e){e?n.context.registerInteractiveComponent(n,{el:e}):n.context.unregisterInteractiveComponent(n)},n.handleCoords=function(e){n.setState({coords:e}),n.props.onSlatCoords&&n.props.onSlatCoords(e)},n}return s(n,e),n.prototype.render=function(){var e=this,n=this.props,o=this.state,i=this.context.options,r=n.dateProfile,a=n.tDateProfile,s=t.greatestDurationDenominator(a.slotDuration).unit;return t.createElement("div",{className:"fc-timeline-body",ref:this.handeEl,style:{minWidth:n.tableMinWidth,height:n.clientHeight,width:n.clientWidth}},t.createElement(t.NowTimer,{unit:s},(function(s,l){return t.createElement(t.Fragment,null,t.createElement(P,{ref:e.slatsRef,dateProfile:r,tDateProfile:a,nowDate:s,todayRange:l,clientWidth:n.clientWidth,tableColGroupNode:n.tableColGroupNode,tableMinWidth:n.tableMinWidth,onCoords:e.handleCoords,onScrollLeftRequest:n.onScrollLeftRequest}),t.createElement(x,{dateProfile:r,tDateProfile:n.tDateProfile,nowDate:s,todayRange:l,nextDayThreshold:i.nextDayThreshold,businessHours:n.businessHours,eventStore:n.eventStore,eventUiBases:n.eventUiBases,dateSelection:n.dateSelection,eventSelection:n.eventSelection,eventDrag:n.eventDrag,eventResize:n.eventResize,timelineCoords:o.coords}),i.nowIndicator&&o.coords&&o.coords.isDateInRange(s)&&t.createElement("div",{className:"fc-timeline-now-indicator-container"},t.createElement(t.NowIndicatorRoot,{isAxis:!1,date:s},(function(e,n,i,r){return t.createElement("div",{ref:e,className:["fc-timeline-now-indicator-line"].concat(n).join(" "),style:{left:o.coords.dateToCoord(s)}},r)}))))})))},n.prototype.queryHit=function(e,t,n,o){var i=this.slatsRef.current.positionToHit(e);return i?{component:this,dateSpan:i.dateSpan,rect:{left:i.left,right:i.right,top:0,bottom:o},dayEl:i.dayEl,layer:0}:null},n}(t.DateComponent),z=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.buildTimelineDateProfile=t.memoize(c),n.scrollGridRef=t.createRef(),n.state={slatCoords:null,slotCushionMaxWidth:null},n.handleSlatCoords=function(e){n.setState({slatCoords:e})},n.handleScrollLeftRequest=function(e){n.scrollGridRef.current.forceScrollLeft(0,e)},n.handleMaxCushionWidth=function(e){n.setState({slotCushionMaxWidth:Math.ceil(e)})},n}return s(n,e),n.prototype.render=function(){var e=this,n=this.props,i=this.state,r=this.context,a=r.options,s=!n.forPrint&&t.getStickyHeaderDates(a),u=!n.forPrint&&t.getStickyFooterScrollbar(a),c=this.buildTimelineDateProfile(n.dateProfile,r.dateEnv,a,r.dateProfileGenerator),d=["fc-timeline",!1===a.eventOverlap?"fc-timeline-overlap-disabled":""],f=a.slotMinWidth,h=H(c,f||this.computeFallbackSlotMinWidth(c)),m=[{type:"header",key:"header",isSticky:s,chunks:[{key:"timeline",content:function(o){return t.createElement(C,{dateProfile:n.dateProfile,clientWidth:o.clientWidth,clientHeight:o.clientHeight,tableMinWidth:o.tableMinWidth,tableColGroupNode:o.tableColGroupNode,tDateProfile:c,slatCoords:i.slatCoords,onMaxCushionWidth:f?null:e.handleMaxCushionWidth})}}]},{type:"body",key:"body",liquid:!0,chunks:[{key:"timeline",content:function(o){return t.createElement(L,l({},n,{clientWidth:o.clientWidth,clientHeight:o.clientHeight,tableMinWidth:o.tableMinWidth,tableColGroupNode:o.tableColGroupNode,tDateProfile:c,onSlatCoords:e.handleSlatCoords,onScrollLeftRequest:e.handleScrollLeftRequest}))}}]}];return u&&m.push({type:"footer",key:"footer",isSticky:!0,chunks:[{key:"timeline",content:t.renderScrollShim}]}),t.createElement(t.ViewRoot,{viewSpec:r.viewSpec},(function(i,r){return t.createElement("div",{ref:i,className:d.concat(r).join(" ")},t.createElement(o.ScrollGrid,{ref:e.scrollGridRef,liquid:!n.isHeightAuto&&!n.forPrint,colGroups:[{cols:h}],sections:m}))}))},n.prototype.computeFallbackSlotMinWidth=function(e){return Math.max(30,(this.state.slotCushionMaxWidth||0)/e.slotsPerLabel)},n}(t.DateComponent);function H(e,t){return[{span:e.slotCnt,minWidth:t||1}]}var O=t.createPlugin({deps:[r.default],initialView:"timelineDay",views:{timeline:{component:z,usesMinMaxTime:!0,eventResizableFromStart:!0},timelineDay:{type:"timeline",duration:{days:1}},timelineWeek:{type:"timeline",duration:{weeks:1}},timelineMonth:{type:"timeline",duration:{months:1}},timelineYear:{type:"timeline",duration:{years:1}}}});return t.globalPlugins.push(O),e.TimelineCoords=R,e.TimelineHeader=C,e.TimelineHeaderRows=S,e.TimelineLane=x,e.TimelineLaneBg=M,e.TimelineLaneSlicer=k,e.TimelineSlats=P,e.TimelineView=z,e.buildSlatCols=H,e.buildTimelineDateProfile=c,e.default=O,Object.defineProperty(e,"__esModule",{value:!0}),e}({},FullCalendar,FullCalendarPremiumCommon,FullCalendarScrollGrid);